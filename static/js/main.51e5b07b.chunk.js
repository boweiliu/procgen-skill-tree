(this["webpackJsonpprocgen-skill-tree"]=this["webpackJsonpprocgen-skill-tree"]||[]).push([[0],{114:function(t,e,i){t.exports=i(218)},119:function(t,e,i){},120:function(t,e,i){},121:function(t,e,i){},131:function(t,e){},133:function(t,e){},144:function(t,e){},146:function(t,e){},171:function(t,e){},173:function(t,e){},174:function(t,e){},179:function(t,e){},181:function(t,e){},200:function(t,e){},212:function(t,e){},215:function(t,e){},218:function(t,e,i){"use strict";i.r(e);var n=i(4),a=i.n(n),r=i(112),s=i.n(r),o=(i(119),i(120),i(121),i(3)),h=i(7),c=i(10),u=i(14),d=function(){for(var t={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},e=0,i=Object.keys(t);e<i.length;e++){t[i[e]]=!0}return t}(),l=function(){function t(){var e=this;Object(o.a)(this,t),this.down={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this.justDown={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this.justUp={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this._queuedEvents=[],document.addEventListener("keydown",(function(t){return e.keyDown(t)}),!1),document.addEventListener("keyup",(function(t){return e.keyUp(t)}),!1),window.addEventListener("blur",(function(){e.clear()}),!1)}return Object(h.a)(t,[{key:"clear",value:function(){this.down={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this.justDown={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this.justUp={Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Up:!1,Down:!1,Left:!1,Right:!1,Shift:!1,Spacebar:!1,Enter:!1},this._queuedEvents=[]}},{key:"keyUp",value:function(t){this._queuedEvents.push({event:t,isDown:!1})}},{key:"keyDown",value:function(t){this._queuedEvents.push({event:t,isDown:!0})}},{key:"formatKeyString",value:function(t){return" "===t?"Spacebar":1===t.length?t.toUpperCase():"Arrow"===t.slice(0,5)?t.slice(5):t[0].toUpperCase()+t.slice(1)}},{key:"eventToKey",value:function(t){var e=t.key;if(e=this.formatKeyString(e))return e;var i=t.keyCode||t.which;switch(i){case 13:e="Enter";break;case 16:e="Shift";break;case 37:e="Left";break;case 38:e="Up";break;case 39:e="Right";break;case 40:e="Down";break;default:e=String.fromCharCode(i)}return this.formatKeyString(e)}},{key:"update",value:function(){for(var t=0,e=Object.keys(this.justDown);t<e.length;t++){var i=e[t];this.justDown[i]=!1,this.justUp[i]=!1}var n,a=Object(u.a)(this._queuedEvents);try{for(a.s();!(n=a.n()).done;){var r=n.value,s=this.eventToKey(r.event);d[s]||console.log("got unrecognized keypress: [",s,"]",r),r.isDown?(this.down[s]||(this.justDown[s]=!0),this.down[s]=!0):(this.down[s]&&(this.justUp[s]=!0),this.down[s]=!1)}}catch(o){a.e(o)}finally{a.f()}this._queuedEvents=[]}}]),t}(),f=function(){function t(){Object(o.a)(this,t),this.frameTimestampsInTicks=[],this.frameTimestampsInTime=[],this.frameTimestampsInTicks.push(0)}return Object(h.a)(t,[{key:"tick",value:function(t){var e=this.frameTimestampsInTicks[this.frameTimestampsInTicks.length-1];this.frameTimestampsInTicks.push(e+t),this.frameTimestampsInTicks.length>120&&(this.frameTimestampsInTicks=this.frameTimestampsInTicks.slice(60)),this.frameTimestampsInTime.push((new Date).getTime()),this.frameTimestampsInTime.length>120&&(this.frameTimestampsInTime=this.frameTimestampsInTime.slice(60))}},{key:"getUps",value:function(){var t=this.frameTimestampsInTicks[this.frameTimestampsInTicks.length-1]-this.frameTimestampsInTicks[0],e=(this.frameTimestampsInTicks.length-1)/t;return e?60*e:60}},{key:"getFps",value:function(){var t=this.frameTimestampsInTime[this.frameTimestampsInTime.length-1]-this.frameTimestampsInTime[0],e=(this.frameTimestampsInTime.length-1)/t;return e?1e3*e:60}},{key:"getFpsString",value:function(){return this.getFps().toFixed(1)}},{key:"getUpsString",value:function(){return this.getUps().toFixed(1)}}]),t}(),p=function t(e){var i=this;Object(o.a)(this,t),this.sourceContainer=void 0,this.targetContainer=void 0,this.targetStartingX=void 0,this.targetStartingY=void 0,this.mouseStartingX=void 0,this.mouseStartingY=void 0,this.data=void 0,this.isDragging=!1,this.onDragStart=function(t){i.data=t.data,i.targetStartingX=i.targetContainer.x,i.targetStartingY=i.targetContainer.y;var e=i.data.getLocalPosition(i.sourceContainer);i.mouseStartingX=e.x,i.mouseStartingY=e.y,console.log(i),i.isDragging=!0},this.onDragEnd=function(){i.isDragging=!1},this.onDragMove=function(){if(i.isDragging){var t=i.data.getLocalPosition(i.sourceContainer);i.targetContainer.x=i.targetStartingX+(t.x-i.mouseStartingX),i.targetContainer.y=i.targetStartingY+(t.y-i.mouseStartingY)}};var n=e.source,a=e.target;n.interactive=!0,this.sourceContainer=n,this.targetContainer=a,n.addListener("pointerdown",this.onDragStart),n.addListener("pointerup",this.onDragEnd),n.addListener("pointerupoutside",this.onDragEnd),n.addListener("pointermove",this.onDragMove)};var y=function(){function t(){Object(o.a)(this,t)}return Object(h.a)(t,null,[{key:"MinBy",value:function(t,e){var i,n=null,a=null,r=Object(u.a)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value,o=e(s);(null===a||o<a)&&(n=s,a=o)}}catch(h){r.e(h)}finally{r.f()}return n}},{key:"MinByAndValue",value:function(t,e){var i,n=null,a=null,r=Object(u.a)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value,o=e(s);(null===a||o<a)&&(n=s,a=o)}}catch(h){r.e(h)}finally{r.f()}return null===n||null===a?null:{obj:n,value:a}}},{key:"MaxBy",value:function(t,e){var i,n=null,a=null,r=Object(u.a)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value,o=e(s);(null===a||o>a)&&(n=s,a=o)}}catch(h){r.e(h)}finally{r.f()}return n}},{key:"RandRange",value:function(t,e){return Math.floor(Math.random()*(e-t)+t)}},{key:"SortByKey",value:function(t,e){return t.sort((function(t,i){return e(t)-e(i)}))}},{key:"ReplaceAll",value:function(t,e){var i=new RegExp(Object.keys(e).join("|"),"gi");return t.replace(i,(function(t){return e[t.toLowerCase()]}))}},{key:"Debounce",value:function(t){var e,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isImmediate:!1},r=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var h=function(){e=void 0,a.isImmediate||t.apply(i,s)},c=a.isImmediate&&void 0===e;void 0!==e&&clearTimeout(e),e=setTimeout(h,n),c&&t.apply(i,s)};return r}},{key:"FormatDate",value:function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return"".concat(e," ").concat(t.getDate(),", ").concat(("00"+t.getHours()).substr(-2),":").concat(("00"+t.getMinutes()).substr(-2),":").concat(("00"+t.getSeconds()).substr(-2))}},{key:"FlattenByOne",value:function(t){var e,i=[],n=Object(u.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;i=i.concat(a)}}catch(r){n.e(r)}finally{n.f()}return i}},{key:"PadString",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";return t+i+n.repeat(e-t.length)}}]),t}(),g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},i=arguments.length>1?arguments[1]:void 0;Object(o.a)(this,t),this._x=void 0,this._y=void 0,"number"===typeof e?(this._x=e,this._y=i):(this._x=e.x,this._y=e.y)}return Object(h.a)(t,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),Object(h.a)(t,[{key:"hash",value:function(){return this.toString()}},{key:"toString",value:function(){return"[".concat(this.x,", ").concat(this.y,"]")}},{key:"invert",value:function(){return new t({x:-this.x,y:-this.y})}},{key:"round",value:function(){return new t({x:Math.round(this.x),y:Math.round(this.y)})}},{key:"floor",value:function(){return new t({x:Math.floor(this.x),y:Math.floor(this.y)})}},{key:"taxicabDistance",value:function(t){return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}},{key:"diagonalDistance",value:function(t){return Math.max(Math.abs(t.x-this.x),Math.abs(t.y-this.y))}},{key:"distance",value:function(t){var e=Math.abs(t.x-this.x),i=Math.abs(t.y-this.y);return Math.sqrt(e*e+i*i)}},{key:"translate",value:function(e){return new t({x:this.x+e.x,y:this.y+e.y})}},{key:"subtract",value:function(e){return new t({x:this.x-e.x,y:this.y-e.y})}},{key:"add",value:function(e){return new t({x:this.x+e.x,y:this.y+e.y})}},{key:"addX",value:function(e){return new t({x:this.x+e,y:this.y})}},{key:"addY",value:function(e){return new t({x:this.x,y:this.y+e})}},{key:"subtractX",value:function(e){return new t({x:this.x-e,y:this.y})}},{key:"subtractY",value:function(e){return new t({x:this.x,y:this.y-e})}},{key:"clampY",value:function(e,i){var n=this.y;return n<e&&(n=e),n>i&&(n=i),new t({x:this.x,y:n})}},{key:"scale",value:function(e,i){return new t({x:(this.x-e.x)*i.x+e.x,y:(this.y-e.y)*i.y+e.y})}},{key:"rotate",value:function(e,i){return i/=180/Math.PI,new t({x:Math.cos(i)*(this.x-e.x)-Math.sin(i)*(this.y-e.y)+e.x,y:Math.sin(i)*(this.x-e.x)+Math.cos(i)*(this.y-e.y)+e.y})}},{key:"equals",value:function(t){return void 0!==t&&(Math.abs(this.x-t.x)<1e-7&&Math.abs(this.y-t.y)<1e-7)}},{key:"multiply",value:function(e){return new t("number"===typeof e?{x:this.x*e,y:this.y*e}:{x:this.x*e.x,y:this.y*e.y})}},{key:"divide",value:function(e){return new t("number"===typeof e?{x:this.x/e,y:this.y/e}:{x:this.x/e.x,y:this.y/e.y})}},{key:"toJSON",value:function(){return{__type:"Vector2",x:this.x,y:this.y}}},{key:"transform",value:function(e,i){return new t({x:Math.floor((this.x-e.x)*i),y:Math.floor((this.y-e.y)*i)})}},{key:"normalize",value:function(){if(0===this.x&&0===this.y)return this;var e=Math.sqrt(this.x*this.x+this.y*this.y);return new t({x:this.x/e,y:this.y/e})}},{key:"withX",value:function(e){return new t({x:e,y:this.y})}},{key:"withY",value:function(e){return new t({x:this.x,y:e})}},{key:"invertX",value:function(){return new t({x:-this.x,y:this.y})}},{key:"lerp",value:function(t,e){return(e>1||e<0)&&console.error("Lerp t must be between 0 and 1."),0===e?this:1===e?t:this.scale({x:0,y:0},{x:1-e,y:1-e}).add(t.scale({x:0,y:0},{x:e,y:e}))}},{key:"lerp2D",value:function(t,e,i){return(e>1||e<0||i>1||i<0)&&console.error("Lerp t must be between 0 and 1."),this.scale({x:0,y:0},{x:1-e,y:1-i}).add(t.scale({x:0,y:0},{x:e,y:i}))}},{key:"coserp",value:function(t,e){return e=.5*(1+Math.cos(2*e*Math.PI)),this.lerp(t,e)}},{key:"half",get:function(){return new t({x:this.x/2,y:this.y/2})}}],[{key:"IsVector2",value:function(e){return e instanceof t}},{key:"Random",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new t({x:y.RandRange(n,e),y:y.RandRange(a,i)})}},{key:"Deserialize",value:function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")||console.error("Failed deserializing point"),new t({x:e.x,y:e.y})}},{key:"Serialize",value:function(t){return JSON.stringify({x:t.x,y:t.y})}}]),t}();g.Zero=new g(0,0),g.One=new g(1,1);var v=i(29),w=function t(e,i){Object(o.a)(this,t),this.id=void 0,this.nodes=[],this.edges=[],this.location=new g(0,0),this.location=i,this.id=Object(v.b)(e+Object(v.b)(e+this.location.x)+this.location.y);for(var n=[],a=-3;a<=3;a++)for(var r=-3;r<=3;r++)n.push(new g(a,r));for(var s=0;s<n.length;s++)(Object(v.b)(this.id+s)/v.a<.9||0==n[s].x&&0==n[s].y)&&this.nodes.push(n[s])},x=function t(e,i){Object(o.a)(this,t),this.chunk=void 0,this.container=void 0,this.spacingPx=24,this.chunkSpacingPx=15*this.spacingPx,this.nodeSizePx=16,this.nodeRoundedPx=4,this.chunk=e,this.container=new c.b;var n,a=Object(u.a)(e.nodes);try{for(a.s();!(n=a.n()).done;){var r=n.value,s=new c.c;s.beginFill(16744576),0==r.x&&0==r.y&&s.beginFill(16711680),s.drawRoundedRect(r.x*this.spacingPx-this.nodeSizePx/2,r.y*this.spacingPx-this.nodeSizePx/2,this.nodeSizePx,this.nodeSizePx,this.nodeRoundedPx),this.container.addChild(s)}}catch(h){a.e(h)}finally{a.f()}this.container.x=this.chunk.location.x*this.chunkSpacingPx,this.container.y=this.chunk.location.y*this.chunkSpacingPx},m={originalWindowWidth:800,originalWindowHeight:800},k=function(){function t(e,i){var n,a=this;Object(o.a)(this,t),this.app=void 0,this.stage=void 0,this.fixedCameraStage=void 0,this.actionStage=void 0,this.backdropStage=void 0,this.config=void 0,this.fpsTracker=void 0,this.onResize=[],this.originalAppWidth=1280,this.originalAppHeight=720,this.randomSeed=void 0,this.config=Object.assign({},m,e),this.randomSeed=3405691582,this.originalAppWidth=Math.min(1280,this.config.originalWindowWidth-8),this.originalAppHeight=Math.min(720,this.config.originalWindowHeight-8),this.app=i||new c.a({width:this.originalAppWidth,height:this.originalAppHeight,antialias:!0,transparent:!0,resolution:window.devicePixelRatio||1,autoDensity:!0,powerPreference:"low-power",backgroundColor:16777215}),this.stage=this.app.stage,this.stage.sortableChildren=!0,this.fixedCameraStage=new c.d,this.fixedCameraStage.zIndex=1,this.fixedCameraStage.sortableChildren=!0,this.stage.addChild(this.fixedCameraStage),this.actionStage=new c.d,this.actionStage.zIndex=0,this.actionStage.sortableChildren=!0,this.stage.addChild(this.actionStage),this.backdropStage=new c.d,this.backdropStage.zIndex=-1,this.backdropStage.sortableChildren=!0,this.stage.addChild(this.backdropStage),n={source:this.backdropStage,target:this.actionStage},new p(n);var r=new l;this.app.ticker.add((function(t){r.update(),r.down.Right&&(a.actionStage.x-=10*t),r.down.Left&&(a.actionStage.x+=10*t),r.down.Up&&(a.actionStage.y+=10*t),r.down.Down&&(a.actionStage.y-=10*t)})),this.fpsTracker=new f,this.app.ticker.add((function(t){a.fpsTracker.tick(t)})),this.resize(this.config.originalWindowWidth,this.config.originalWindowHeight)}return Object(h.a)(t,[{key:"register",value:function(t){t.appendChild(this.app.view)}},{key:"resize",value:function(t,e){this.app.renderer.resize(Math.min(1280,t-8),Math.min(720,e-8)),this.actionStage.pivot.x=-.5*(this.app.screen.width-this.originalAppWidth),this.actionStage.pivot.y=-.5*(this.app.screen.height-this.originalAppHeight),this.onResize.map((function(t){return t()}))}},{key:"drawStart",value:function(){var t=this,e=new c.e("",{fontFamily:"PixelMix",fontSize:12});this.app.ticker.add((function(){e.text=t.fpsTracker.getFpsString()+" FPS\n"+t.fpsTracker.getUpsString()+" UPS\n"+t.app.screen.width+"x"+t.app.screen.height})),e.x=this.app.screen.width,this.onResize.push((function(){e.x=t.app.screen.width})),e.y=0,e.anchor.x=1,this.fixedCameraStage.addChild(e);var i=new c.c;this.backdropStage.addChild(i),i.beginFill(11259375,1),i.interactive=!0,i.drawRect(0,0,this.app.screen.width,this.app.screen.height),this.onResize.push((function(){i.width=t.app.screen.width,i.height=t.app.screen.height}));var n=new c.c;n.lineStyle(2,10066329),n.drawCircle(0,0,6),n.x=this.app.screen.width/2,n.y=this.app.screen.height/2,this.onResize.push((function(){n.x=t.app.screen.width/2,n.y=t.app.screen.height/2})),n.interactive=!0,this.fixedCameraStage.addChild(n);var a=new c.b;this.actionStage.addChild(a),a.x=this.app.screen.width/2,a.y=this.app.screen.height/2,this.onResize.push((function(){a.x=t.app.screen.width/2,a.y=t.app.screen.height/2}));for(var r=-1;r<=1;r++)for(var s=-1;s<=1;s++)a.addChild(new x(new w(this.randomSeed,new g(r,s)),this.app.ticker).container)}}]),t}(),S=new k({originalWindowWidth:window.innerWidth,originalWindowHeight:window.innerHeight});function b(t){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.current.appendChild(S.app.view),e.current.appendChild(S.app.view),console.log(e.current),S.drawStart()}),[]),window.onresize=function(){S.resize(window.innerWidth,window.innerHeight)},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:e}),a.a.createElement("button",{onClick:function(){}},"draw circle"),a.a.createElement("button",{onClick:function(){e.current.removeChild(S.app.view),S=new k({originalWindowWidth:window.innerWidth,originalWindowHeight:window.innerHeight}),e.current.appendChild(S.app.view),S.drawStart()}},"[DEBUG] reset and rerender"))}var T=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},29:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));i(3),i(7),i(37);var n=Math.pow(2,32);function a(t){var e=(t+n)%n;return e=Math.imul(e,3039394381),e^=e>>>8,e+=1759714724,e^=e<<8,e=Math.imul(e,458671337),((e^=e>>>8)+n)%n}}).call(this,i(2).Buffer)}},[[114,1,2]]]);
//# sourceMappingURL=main.51e5b07b.chunk.js.map